<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>üß† BrainRot Admin</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #141E30, #243B55);
    color: white;
    text-align: center;
    margin: 0;
    padding: 40px;
  }
  .admin-box {
    background: rgba(255,255,255,0.1);
    padding: 30px;
    border-radius: 20px;
    display: inline-block;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
  }
  input, select, button {
    margin: 10px;
    padding: 12px;
    font-size: 18px;
    border: none;
    border-radius: 8px;
  }
  button {
    background: #4CAF50;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background: #45a049;
  }
</style>
</head>
<body>
  <h1>üß† BrainRot Admin</h1>
  <div class="admin-box">
    <input type="text" id="brainrotName" placeholder="Name des Brainrots"><br>
    <select id="brainrotRarity">
      <option>Selten</option>
      <option>Episch</option>
      <option>Legend√§r</option>
      <option>Mythisch</option>
      <option>Brainrot Gott</option>
      <option>Secret</option>
      <option>OG</option>
    </select><br>
    <input type="number" id="brainrotIncome" placeholder="Geld pro Sekunde"><br>
    <input type="number" id="brainrotStock" placeholder="Auf Lager"><br>
    <button id="addBtn">‚ûï Brainrot hinzuf√ºgen</button>
    <p id="status"></p>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
    import { getAuth, onAuthStateChanged, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC1kLr0wdCM1HDWj8x7LvMV2Q0K6kzycUY",
      authDomain: "brainrottradingseite.firebaseapp.com",
      projectId: "brainrottradingseite",
      storageBucket: "brainrottradingseite.firebasestorage.app",
      messagingSenderId: "212738351089",
      appId: "1:212738351089:web:9ae5b737cf550554d16e50",
      measurementId: "G-BNZ0Y47M0K",
      databaseURL: "https://brainrottradingseite-default-rtdb.europe-west1.firebasedatabase.app/"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const auth = getAuth(app);

    const addBtn = document.getElementById("addBtn");
    const status = document.getElementById("status");

    onAuthStateChanged(auth, (user) => {
      if (!user) {
        const email = prompt("Admin E-Mail:");
        const password = prompt("Passwort:");
        signInWithEmailAndPassword(auth, email, password)
          .then(() => alert("‚úÖ Erfolgreich angemeldet!"))
          .catch(err => alert("‚ùå Fehler: " + err.message));
      }
    });

    addBtn.addEventListener("click", async () => {
      const name = document.getElementById("brainrotName").value.trim();
      const rarity = document.getElementById("brainrotRarity").value;
      const income = parseFloat(document.getElementById("brainrotIncome").value);
      const stock = parseInt(document.getElementById("brainrotStock").value);

      if (!name || isNaN(income) || isNaN(stock)) {
        return alert("‚ö†Ô∏è Bitte alles korrekt ausf√ºllen!");
      }

      status.textContent = "Hinzuf√ºgen l√§uft...";

      try {
        const newRef = push(ref(db, "brainrots"));
        await set(newRef, {
          name,
          rarity,
          incomePerSecond: income,
          stock
        });
        status.textContent = "‚úÖ Brainrot erfolgreich hinzugef√ºgt!";
        document.getElementById("brainrotName").value = "";
        document.getElementById("brainrotIncome").value = "";
        document.getElementById("brainrotStock").value = "";
      } catch (error) {
        status.textContent = "‚ùå Fehler: " + error.message;
      }
    });
  </script>
</body>
</html>