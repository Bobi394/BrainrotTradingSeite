<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üß† BrainRot Admin Login</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Poppins:wght@400;600&display=swap');

  body {
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top left, #000428, #004e92);
    color: #fff;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 {
    font-family: 'Orbitron', sans-serif;
    font-size: 3em;
    margin-top: 40px;
    text-shadow: 0 0 20px #00c6ff, 0 0 40px #0072ff;
  }

  .box {
    background: rgba(255, 255, 255, 0.1);
    padding: 40px;
    border-radius: 20px;
    margin-top: 40px;
    box-shadow: 0 0 40px rgba(0, 198, 255, 0.3);
    backdrop-filter: blur(10px);
    width: 90%;
    max-width: 400px;
    text-align: center;
  }

  input, select {
    width: 80%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 10px;
    border: none;
    outline: none;
    font-size: 1.1em;
    background: rgba(255, 255, 255, 0.15);
    color: #fff;
    text-align: center;
  }

  input:focus {
    background: rgba(255, 255, 255, 0.25);
  }

  select option {
    color: black;
  }

  button {
    margin-top: 15px;
    padding: 12px 25px;
    border: none;
    border-radius: 10px;
    background: linear-gradient(90deg, #00c6ff, #0072ff);
    color: white;
    font-size: 1.1em;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #00c6ff;
  }

  #status {
    margin-top: 15px;
    font-size: 1.1em;
    color: #0ff;
    text-shadow: 0 0 10px #0ff;
  }

  #adminPanel {
    display: none;
  }
</style>
</head>
<body>
  <h1>üß† BrainRot Admin</h1>

  <!-- LOGIN -->
  <div class="box" id="loginBox">
    <h2>üîê Admin Login</h2>
    <input type="email" id="email" placeholder="E-Mail"><br>
    <input type="password" id="password" placeholder="Passwort"><br>
    <button id="loginBtn">Anmelden</button>
    <p id="status"></p>
  </div>

  <!-- ADMIN PANEL -->
  <div class="box" id="adminPanel">
    <h2>üì¶ Brainrot hinzuf√ºgen</h2>
    <input type="text" id="brainrotName" placeholder="Name des Brainrots"><br>
    <select id="brainrotRarity">
      <option>Selten</option>
      <option>Episch</option>
      <option>Legend√§r</option>
      <option>Mythisch</option>
      <option>Brainrot Gott</option>
      <option>Secret</option>
      <option>OG</option>
    </select><br>
    <input type="number" id="brainrotIncome" placeholder="üí∞ Geld pro Sekunde"><br>
    <input type="number" id="brainrotStock" placeholder="üì¶ Auf Lager"><br>
    <button id="addBtn">‚ûï Brainrot hinzuf√ºgen</button>
    <p id="addStatus"></p>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC1kLr0wdCM1HDWj8x7LvMV2Q0K6kzycUY",
      authDomain: "brainrottradingseite.firebaseapp.com",
      projectId: "brainrottradingseite",
      storageBucket: "brainrottradingseite.firebasestorage.app",
      messagingSenderId: "212738351089",
      appId: "1:212738351089:web:9ae5b737cf550554d16e50",
      measurementId: "G-BNZ0Y47M0K",
      databaseURL: "https://brainrottradingseite-default-rtdb.europe-west1.firebasedatabase.app/"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getDatabase(app);

    const loginBox = document.getElementById("loginBox");
    const adminPanel = document.getElementById("adminPanel");
    const loginBtn = document.getElementById("loginBtn");
    const status = document.getElementById("status");

    // LOGIN
    loginBtn.addEventListener("click", () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      status.textContent = "‚è≥ Anmelden l√§uft...";

      signInWithEmailAndPassword(auth, email, password)
        .then(() => {
          status.textContent = "‚úÖ Erfolgreich angemeldet!";
        })
        .catch((err) => {
          status.textContent = "‚ùå Fehler: " + err.message;
        });
    });

    // WENN EINGELOGGT
    onAuthStateChanged(auth, (user) => {
      if (user) {
        loginBox.style.display = "none";
        adminPanel.style.display = "block";
      } else {
        loginBox.style.display = "block";
        adminPanel.style.display = "none";
      }
    });

    // BRAINROT HINZUF√úGEN
    const addBtn = document.getElementById("addBtn");
    const addStatus = document.getElementById("addStatus");

    addBtn.addEventListener("click", async () => {
      const name = document.getElementById("brainrotName").value.trim();
      const rarity = document.getElementById("brainrotRarity").value;
      const income = parseFloat(document.getElementById("brainrotIncome").value);
      const stock = parseInt(document.getElementById("brainrotStock").value);

      if (!name || isNaN(income) || isNaN(stock)) {
        return alert("‚ö†Ô∏è Bitte alle Felder ausf√ºllen!");
      }

      addStatus.textContent = "‚è≥ Hinzuf√ºgen l√§uft...";
      try {
        const newRef = push(ref(db, "brainrots"));
        await set(newRef, {
          name,
          rarity,
          incomePerSecond: income,
          stock
        });
        addStatus.textContent = "‚úÖ Brainrot erfolgreich hinzugef√ºgt!";
      } catch (err) {
        addStatus.textContent = "‚ùå Fehler: " + err.message;
      }
    });
  </script>
</body>
</html>